<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ProjectCommunity">
	<select id="projectList" resultType="com.es.projectCommunity.ProjectCommunityDto">
		select * from project_community
	</select>
	<select id="projectDetail" parameterType="int" resultType="com.es.projectCommunity.ProjectCommunityDto">
		select * from project_community where project_no=#{project_no}
	</select>
	<insert id="projectWrite" parameterType="com.es.projectCommunity.ProjectCommunityDto">
		insert into project_community(classification, title, content, writer, write_time, file_path, file_name) values(#{classification},#{title},#{content},#{writer},now(),#{file_path},#{file_name}) 
	</insert>
	<update id="updateHit" parameterType="com.es.projectCommunity.ProjectCommunityDto">
  		update project_community set hit=#{hit}+1 where project_no=#{project_no}
  	</update> 	
	<update id="projectModify" parameterType="com.es.projectCommunity.ProjectCommunityDto">
  		update project_community set classification=#{classification}, title=#{title}, content=#{content}, writer=#{writer}, file_path=#{file_path}, file_name=#{file_name}	where project_no=#{project_no}
  	</update> 
  	<delete id="projectDelete" parameterType="int">
  		delete from project_community where project_no=#{project_no}
  	</delete>	
</mapper>